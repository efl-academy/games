(function(t){function e(e){for(var r,o,c=e[0],i=e[1],l=e[2],u=0,f=[];u<c.length;u++)o=c[u],s[o]&&f.push(s[o][0]),s[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var i=n[c];0!==s[i]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},s={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0211":function(t,e,n){"use strict";var r=n("bf5a"),s=n.n(r);s.a},3566:function(t,e,n){},"3eef":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition-group",t._l(t.notifications,function(t,e){return n("Notification",{key:e+1,attrs:{message:t}})}),1),n("div",{attrs:{id:"top"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showWelcome&&!t.showResults,expression:"!showWelcome && !showResults"}],staticClass:"game-container"},[n("div",{ref:"cards",staticClass:"cards"},t._l(t.cards,function(t,e){return n("Card",{key:e,attrs:{sentence:t.sentence}})}),1),t.isDesktop?n("div",{staticClass:"controls"},[n("button",{ref:"invalidButton",staticClass:"no-button",on:{click:t.onButtonClick}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"times",size:"2x"}})],1),n("button",{ref:"validButton",staticClass:"yes-button",on:{click:t.onButtonClick}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check",size:"2x"}})],1)]):t._e()]),t.showWelcome?n("div",{staticClass:"welcome-container"},[n("p",{staticClass:"instructions"},[t._v("Swipe a card to the right if a sentence is correct, and to the left if it is not.")]),n("p",[t._v("You win if you get "+t._s(t.cardsToWin)+" correct answers in a row.")]),n("button",{staticClass:"new-game-button",on:{click:t.startGame}},[t._v("New Game")])]):t._e(),t.showResults?n("div",{staticClass:"results-container"},[n("div",{staticClass:"results-header"},[n("p",{staticClass:"heading"},[t._v("Your results")]),t.combo>=t.cardsToWin?n("p",{staticClass:"win-message"},[t._v("Win! "+t._s(t.cardsToWin)+" in a row!")]):t._e()]),t._l(t.cards.slice(0,t.cardIndex),function(t,e){return n("Result",{key:e,attrs:{card:t}})}),n("button",{staticClass:"new-game-button",on:{click:t.startGame}},[t._v("New Game")])],2):t._e()],1)},a=[],o=n("75fc"),c=(n("ac6a"),["#c9bfff","#74bdba","#d68b89","#a2d3b7","#5da3d8","#e6b7cd","#5dd492","#de6d72","#86dde4","#42b9e2","#ae93c3"]),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"sentence-container"},[n("p",{staticClass:"sentence"},[t._v(t._s(t.sentence))])])])},l=[],d={name:"Card",props:["sentence"]},u=d,f=(n("e45b"),n("2877")),h=Object(f["a"])(u,i,l,!1,null,null,null),p=h.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification"},[n("p",{staticClass:"message"},[t._v(t._s(t.message))])])},v=[],w={name:"Notification",props:["message"]},g=w,C=(n("e2e0"),Object(f["a"])(g,m,v,!1,null,null,null)),b=C.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("font-awesome-icon",{staticClass:"result-icon",class:{incorrect:t.card.userAnswer!==t.card.valid},attrs:{size:"lg",icon:t.resultIcon}}),t.card.valid?n("p",{staticClass:"sentence"},[t._v(t._s(t.card.sentence))]):n("p",{staticClass:"sentence",domProps:{innerHTML:t._s(t.highlightedSentence)}}),n("div",{staticClass:"user-answer-container"},[n("p",[t._v("Your answer: ")]),n("p",{staticClass:"user-answer",class:{incorrect:t.card.userAnswer!==t.card.valid}},[t._v("\n      "+t._s(t.userAnswer)+"\n    ")])])],1)},_=[],x=(n("3b2b"),n("a481"),{name:"Result",props:["card"],computed:{resultIcon:function(){return this.card.userAnswer===this.card.valid?"check-circle":"times-circle"},userAnswer:function(){return this.card.userAnswer?"Correct.":"Incorrect."},highlightedSentence:function(){var t=this.card.correction,e=this.card.answer.replace(new RegExp(t,"i"),"<span class='highlight'>".concat(t,"</span>"));return e}}}),S=x,A=(n("0211"),Object(f["a"])(S,y,_,!1,null,null,null)),k=A.exports,I=(n("c8b5"),{name:"app",components:{Card:p,Notification:b,Result:k},data:function(){return{isDesktop:!("undefined"!==typeof window.orientation)||-1!==navigator.userAgent.indexOf("IEMobile"),cards:[],cardIndex:0,combo:0,notifications:[],cardsToWin:cardsToWin||dataset.correct.length+dataset.incorrect.length,isDragging:!1,startDragPositionX:null,frontCardEl:null,showWelcome:!0,showResults:!1}},beforeMount:function(){this.formCards()},mounted:function(){this.initCards(),this.setCardsSwipeHandlers(),this.setCardsAppearance()},computed:{currentCard:function(){return this.cards[this.cardIndex]},notificationsMessage:function(){return(this.currentCard&&this.currentCard.valid)==this.currentCard.userAnswer?"Correct!":"Incorrect."}},methods:{initCards:function(){var t=!this.showWelcome&&!this.showResults;t||document.querySelectorAll(".card").forEach(function(t){t.classList.remove("removed")});var e=document.querySelectorAll(".card:not(.removed)"),n=e.length;this.frontCardEl=e[0],e.length<=0?this.showResults=!0:(e.forEach(function(t,e){t.classList.add("static"),t.style.zIndex=n-e,t.style.opacity=1===e||0===e?1:(10-e)/40,t.style.display=e>3?"none":"flex",t.style.transform="scale("+(20-e)/20+") translateY(-"+30*e+"px)"}),this.frontCardEl.classList.remove("static"))},setCardsSwipeHandlers:function(){var t=this;document.querySelectorAll(".card").forEach(function(e){var n=new Hammer(e);n.on("pan",function(t){0===t.center.x&&0===t.center.y||0!==t.deltaX&&(t.target.classList.add("moving"),t.target.style.transform="translate("+t.deltaX+"px) rotate("+t.deltaX/20+"deg)")}),n.on("panend",function(e){var n=!0,r=Math.abs(e.deltaX),s=Math.abs(e.velocityX);if(s<.5?(n=!0,r>150&&(n=!1)):n=!1,e.target.classList.remove("moving"),e.target.classList.toggle("removed",!n),n)e.target.style.transform="";else{var a=document.body.clientWidth,o=Math.max(Math.abs(e.velocityX)*a,a),c=e.deltaX>0?o:-o,i=Math.abs(e.velocityY)*a,l=e.deltaY>0?i:-i,d=.03*e.deltaX,u=e.deltaY/80,f=d*u;e.target.style.transform="translate("+c+"px, "+(l+e.deltaY)+"px) rotate("+f+"deg)",e.target.style.opacity=0,t.currentCard.userAnswer=c>=0,t.combo=t.currentCard.valid===t.currentCard.userAnswer?t.combo+1:0,t.onCardSwiped()}})})},startGame:function(){this.cards=this.shuffle(this.cards),this.initCards(),this.cardIndex=0,this.combo=0,this.showResults=!1,this.showWelcome=!1},setCardsAppearance:function(){var t=this,e=document.querySelectorAll(".card:not(.removed)");e.forEach(function(e){e.style.backgroundColor="".concat(c[t.getRandomInt(0,c.length)])})},onButtonClick:function(t){var e=document.querySelectorAll(".card:not(.removed)")[0];e.style.opacity="0",e.classList.add("removed"),t.target===this.$refs.validButton?(this.currentCard.userAnswer=!0,e.style.transform="translate(600px) rotate(30deg)"):(this.currentCard.userAnswer=!1,e.style.transform="translate(-600px) rotate(-30deg)"),this.combo=this.currentCard.valid===this.currentCard.userAnswer?this.combo+1:0,this.onCardSwiped()},onCardSwiped:function(){var t=this.currentCard.userAnswer==this.currentCard.valid?"Correct":"Incorrect";this.showNotification(t),this.removeFrontCard(),this.cards.length===this.cardIndex||this.combo===this.cardsToWin?this.showResults=!0:this.initCards()},showNotification:function(t){var e=this;this.notifications.push(t),this.$nextTick(function(){var t=document.querySelectorAll(".notification"),n=t[t.length-1];n.style.zIndex=1e3+e.notifications.length,n.classList.add("show"),setTimeout(function(){n.classList.remove("show")},1400)})},formCards:function(){var t=dataset.correct.map(function(t){return{sentence:t,valid:!0}}),e=dataset.incorrect.map(function(t){return{sentence:t.sentence,answer:t.answer,correction:t.correction,valid:!1}});this.cards=this.shuffle([].concat(Object(o["a"])(t),Object(o["a"])(e)))},removeFrontCard:function(){this.frontCardEl&&(this.frontCardEl.classList.remove("front"),this.frontCardEl=null,this.cardIndex++)},shuffle:function(t){var e=t.slice(),n=e.length;while(n>0){var r=Math.floor(Math.random()*n);n--;var s=e[n];e[n]=e[r],e[r]=s}return e},getRandomRGBforCSS:function(){var t=this.getRandomInt(20,230),e=this.getRandomInt(20,230),n=this.getRandomInt(20,230);return"rgb(".concat(t,", ").concat(e,", ").concat(n,")")},getRandomInt:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}}}),M=I,R=(n("7c55"),Object(f["a"])(M,s,a,!1,null,null,null)),E=R.exports,O=(n("b803"),n("ecee")),j=n("c074"),W=n("ad3d");O["c"].add(j["c"]),O["c"].add(j["d"]),O["c"].add(j["a"]),O["c"].add(j["b"]),r["a"].component("font-awesome-icon",W["a"]),r["a"].config.productionTip=!1;var X={correct:["The students handed in their papers and left the room","My brother borrowed my car. I have a feeling he's not about to give it back.","Correct 1","Correct 1","Correct 1"],incorrect:[{sentence:"sentence X 1",answer:"sentence Y 1",correction:"Y"},{sentence:"sentence GF 2",answer:"sentence SS 2",correction:"SS"},{sentence:"sentence YY 2",answer:"sentence XX 2",correction:"XX"}]};new r["a"]({render:function(t){return t(E,{props:{dataset:X}})}}).$mount("#app")},"5c48":function(t,e,n){},"7c55":function(t,e,n){"use strict";var r=n("5c48"),s=n.n(r);s.a},bf5a:function(t,e,n){},e2e0:function(t,e,n){"use strict";var r=n("3566"),s=n.n(r);s.a},e45b:function(t,e,n){"use strict";var r=n("3eef"),s=n.n(r);s.a}});
//# sourceMappingURL=app.9ce9b7d5.js.map